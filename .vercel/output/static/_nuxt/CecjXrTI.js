import{_ as C,a as N}from"./8hJOxu5z.js";import{_ as k}from"./DDOLqT6N.js";import{h as w,l as A,N as B,r as m,i as M,c,b as n,w as l,f as E,p as q,o as p,j as o,a as _,F as D,q as I,z as R,t as j,g as z,d as G}from"./DNOTuklV.js";import{_ as L}from"./BkXjYmYK.js";import{u as T}from"./bwWeQDxp.js";import"./SYmKFyMt.js";import"./CAAWyulb.js";import"./DH4W2Tv0.js";const $={class:"space-y-6"},H={class:"space-y-2"},J={class:"ml-2 text-sm text-gray-600"},te=w({__name:"create",setup(K){const{loadPartners:y}=A(),{createPartner:P}=q(),{notifySuccess:v,notifyError:f}=T(),x=B(),g=m([]),i=m(!1),r=m([]),e=m({name:"",email:"",sharePercentage:0}),V=async()=>{if(!e.value.name||!e.value.sharePercentage){f("Please fill in all required fields");return}i.value=!0;try{await P({name:e.value.name,email:e.value.email,sharePercentage:e.value.sharePercentage,serviceIds:r.value}),v("Partner added successfully"),x.push("/partners")}catch{f("Failed to add partner")}finally{i.value=!1}};return M(async()=>{try{await y(),g.value=[{id:"1",name:"Property Management",description:"Full property management services"},{id:"2",name:"Cleaning",description:"Professional cleaning services"},{id:"3",name:"Maintenance",description:"Property maintenance and repairs"}]}catch(d){console.error("Failed to load data:",d)}}),(d,a)=>{const u=N,s=C,b=k,h=z,U=L,F=E;return p(),c("div",$,[n(F,null,{header:l(()=>a[4]||(a[4]=[_("h3",{class:"text-lg font-semibold"},"Add Partner",-1)])),default:l(()=>[n(U,{state:o(e),onSubmit:V,class:"space-y-4"},{default:l(()=>[n(s,{label:"Partner Name",name:"name"},{default:l(()=>[n(u,{modelValue:o(e).name,"onUpdate:modelValue":a[0]||(a[0]=t=>o(e).name=t),placeholder:"e.g., Casa Aurea Properties"},null,8,["modelValue"])]),_:1}),n(s,{label:"Email",name:"email"},{default:l(()=>[n(u,{modelValue:o(e).email,"onUpdate:modelValue":a[1]||(a[1]=t=>o(e).email=t),type:"email",placeholder:"contact@partner.com"},null,8,["modelValue"])]),_:1}),n(s,{label:"Share Percentage",name:"sharePercentage"},{default:l(()=>[n(u,{modelValue:o(e).sharePercentage,"onUpdate:modelValue":a[2]||(a[2]=t=>o(e).sharePercentage=t),type:"number",min:"0",max:"100",placeholder:"15"},null,8,["modelValue"])]),_:1}),n(s,{label:"Services",name:"services"},{default:l(()=>[_("div",H,[(p(!0),c(D,null,I(o(g),t=>(p(),c("div",{key:t.id,class:"flex items-center"},[n(b,{id:t.id,modelValue:o(r),"onUpdate:modelValue":a[3]||(a[3]=S=>R(r)?r.value=S:null),value:t.id,label:t.name},null,8,["id","modelValue","value","label"]),_("span",J,j(t.description),1)]))),128))])]),_:1}),n(h,{type:"submit",loading:o(i)},{default:l(()=>a[5]||(a[5]=[G("Add Partner",-1)])),_:1,__:[5]},8,["loading"])]),_:1},8,["state"])]),_:1})])}}});export{te as default};
