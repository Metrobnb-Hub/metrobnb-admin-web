import{t as R,i as $,a as C}from"./SYmKFyMt.js";import{n as O,al as z,x as S,am as J,ac as A,i as B,ad as N,r as D,V as F}from"./DNOTuklV.js";const W=$?window:void 0;function E(e){var n;const u=z(e);return(n=u==null?void 0:u.$el)!=null?n:u}function I(){const e=A(!1),n=N();return n&&B(()=>{e.value=!0},n),e}function T(e){const n=I();return O(()=>(n.value,!!e()))}function U(e){return JSON.parse(JSON.stringify(e))}function G(e,n,u={}){const{window:f=W,...c}=u;let s;const d=T(()=>f&&"ResizeObserver"in f),t=()=>{s&&(s.disconnect(),s=void 0)},o=O(()=>{const v=z(e);return Array.isArray(v)?v.map(p=>E(p)):[E(v)]}),i=S(o,v=>{if(t(),d.value&&f){s=new ResizeObserver(n);for(const p of v)p&&s.observe(p,c)}},{immediate:!0,flush:"post"}),a=()=>{t(),i()};return R(a),{isSupported:d,stop:a}}const m=new Map;function H(e){const n=J();function u(t){var o;const i=m.get(e)||new Set;i.add(t),m.set(e,i);const a=()=>c(t);return(o=n==null?void 0:n.cleanups)==null||o.push(a),a}function f(t){function o(...i){c(o),t(...i)}return u(o)}function c(t){const o=m.get(e);o&&(o.delete(t),o.size||s())}function s(){m.delete(e)}function d(t,o){var i;(i=m.get(e))==null||i.forEach(a=>a(t,o))}return{on:u,once:f,off:c,emit:d,reset:s}}function K(e,n,u,f={}){var c,s,d;const{clone:t=!1,passive:o=!1,eventName:i,deep:a=!1,defaultValue:v,shouldEmit:p}=f,l=N(),h=u||(l==null?void 0:l.emit)||((c=l==null?void 0:l.$emit)==null?void 0:c.bind(l))||((d=(s=l==null?void 0:l.proxy)==null?void 0:s.$emit)==null?void 0:d.bind(l==null?void 0:l.proxy));let g=i;n||(n="modelValue"),g=g||`update:${n.toString()}`;const V=r=>t?typeof t=="function"?t(r):U(r):r,x=()=>C(e[n])?V(e[n]):v,M=r=>{p?p(r)&&h(g,r):h(g,r)};if(o){const r=x(),b=D(r);let w=!1;return S(()=>e[n],_=>{w||(w=!0,b.value=V(_),F(()=>w=!1))}),S(b,_=>{!w&&(_!==e[n]||a)&&M(_)},{deep:a}),b}else return O({get(){return x()},set(r){M(r)}})}export{K as a,E as b,H as c,G as u};
