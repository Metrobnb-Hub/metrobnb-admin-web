import{h as Q,n,c as g,a as t,s as _,d as S,t as e,j as o,F as m,q as u,v as f,b as N,w as M,g as X,o as y,k as Z}from"./DNOTuklV.js";const tt={class:"max-w-4xl mx-auto bg-white dark:bg-gray-900 p-8 print:p-6 print:bg-white"},rt={class:"border-b-2 border-gray-200 pb-6 mb-8"},et={class:"flex justify-between items-start"},at={class:"text-lg text-gray-600 dark:text-gray-300 print:text-gray-600"},dt={class:"font-semibold"},ot={class:"text-lg text-gray-600 dark:text-gray-300 print:text-gray-600"},st={class:"font-semibold"},nt={class:"text-right"},gt={class:"text-sm text-gray-500 dark:text-gray-400 print:text-gray-500"},yt={class:"text-sm text-gray-500 dark:text-gray-400 print:text-gray-500"},it={class:"mb-8 space-y-6"},xt={key:0},lt={class:"overflow-x-auto"},pt={class:"w-full border-collapse border border-gray-300 dark:border-gray-600 print:border-gray-300"},bt={class:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900 w-32"},ct={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},mt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},ut={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},ht={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},kt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},_t={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-right font-medium text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},ft={class:"bg-green-50 dark:bg-green-900 print:bg-green-50"},wt={colspan:"4",class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-medium text-right text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},vt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-semibold text-right text-gray-700 dark:text-gray-300 print:border-gray-300 print:text-gray-700"},Bt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-semibold text-right text-gray-700 dark:text-gray-300 print:border-gray-300 print:text-gray-700"},St={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-semibold text-right text-gray-700 dark:text-gray-300 print:border-gray-300 print:text-gray-700"},Nt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-green-700 dark:text-green-400 print:border-gray-300 print:text-green-700"},At={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-green-700 dark:text-green-400 print:border-gray-300 print:text-green-700"},Lt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-green-700 dark:text-green-400 print:border-gray-300 print:text-green-700"},Dt={key:1},Rt={class:"overflow-x-auto"},Pt={class:"w-full border-collapse border border-gray-300 dark:border-gray-600 print:border-gray-300"},Tt={class:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900 w-32"},Et={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},Ct={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},Mt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},jt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},$t={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},It={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-right font-medium text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},Ut={class:"bg-blue-50 dark:bg-blue-900 print:bg-blue-50"},zt={colspan:"4",class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-medium text-right text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},Gt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-semibold text-right text-gray-700 dark:text-gray-300 print:border-gray-300 print:text-gray-700"},Jt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-semibold text-right text-gray-700 dark:text-gray-300 print:border-gray-300 print:text-gray-700"},Vt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-semibold text-right text-gray-700 dark:text-gray-300 print:border-gray-300 print:text-gray-700"},qt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-blue-700 dark:text-blue-400 print:border-gray-300 print:text-blue-700"},Ft={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-blue-700 dark:text-blue-400 print:border-gray-300 print:text-blue-700"},Ht={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-blue-700 dark:text-blue-400 print:border-gray-300 print:text-blue-700"},Kt={key:2},Ot={class:"overflow-x-auto"},Wt={class:"w-full border-collapse border border-gray-300 dark:border-gray-600 print:border-gray-300"},Yt={class:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900 w-32"},Qt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},Xt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},Zt={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},tr={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},rr={class:"bg-red-50 dark:bg-red-900 print:bg-red-50"},er={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-red-700 dark:text-red-400 print:border-gray-300 print:text-red-700"},ar={key:0,class:"mb-8"},dr={class:"overflow-x-auto"},or={class:"w-full border-collapse border border-gray-300 dark:border-gray-600 print:border-gray-300"},sr={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},nr={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},gr={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},yr={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},ir={class:"bg-yellow-50 dark:bg-yellow-900 print:bg-yellow-50"},xr={class:"mb-8"},lr={class:"overflow-x-auto"},pr={class:"w-full border-collapse border border-gray-300 dark:border-gray-600 print:border-gray-300"},br={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},cr={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},mr={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm capitalize text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},ur={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},hr={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:border-gray-300 print:text-gray-900"},kr={class:"bg-gray-50 dark:bg-gray-800 print:bg-gray-50"},_r={class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},fr={class:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg print:bg-gray-50"},wr={class:"w-full"},vr={class:"border-b border-gray-200 dark:border-gray-600"},Br={class:"py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:text-gray-900"},Sr={class:"border-b border-gray-200 dark:border-gray-600"},Nr={class:"py-2 text-sm font-medium text-gray-900 dark:text-gray-100 print:text-gray-900"},Ar={class:"py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:text-gray-900"},Lr={class:"border-b border-gray-200 dark:border-gray-600"},Dr={class:"py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:text-gray-900"},Rr={key:0,class:"border-b border-gray-200 dark:border-gray-600"},Pr={class:"py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:text-gray-900"},Tr={class:"border-b border-gray-200 dark:border-gray-600"},Er={class:"py-2 text-sm text-right text-gray-900 dark:text-gray-100 print:text-gray-900"},Cr={class:"border-t-2 border-gray-400"},Mr={class:"py-3 text-lg font-bold text-gray-900 dark:text-white print:text-gray-900"},jr={class:"mt-8 text-center print:hidden"},$r={class:"space-y-2"},Ir={class:"text-sm text-gray-600 dark:text-gray-400"},Ur={class:"flex justify-center gap-4"},Jr=Q({__name:"PartnerInvoice",props:{invoice:{}},setup(j){const s=j.invoice||{partnerName:"Kate",period:"July 2025",sharePercentage:20,bookings:[{date:"2025-07-05",guestName:"Juan Dela Cruz",unitName:"Casa Aurea",source:"Direct",baseAmount:2199,addons:300,total:2499,paymentReceivedBy:"metrobnb",actualAmountReceived:1e3},{date:"2025-07-12",guestName:"Maria Santos",unitName:"Casa Aurea",source:"Airbnb",baseAmount:3500,addons:500,total:4e3,paymentReceivedBy:"partner",actualAmountReceived:4e3},{date:"2025-07-20",guestName:"Robert Johnson",unitName:"Casa Aurea",source:"Direct",baseAmount:2800,addons:200,total:3e3,paymentReceivedBy:"metrobnb",actualAmountReceived:3e3}],expenses:[{date:"2025-07-06",unitName:"Casa Aurea",type:"laundry",notes:"towels & sheets",amount:300},{date:"2025-07-15",unitName:"Casa Aurea",type:"cleaning",notes:"deep cleaning after checkout",amount:800},{date:"2025-07-25",unitName:"Casa Aurea",type:"repair",notes:"fixed air conditioning",amount:1500}]},A=n(()=>{var d;return((d=s==null?void 0:s.bookings)==null?void 0:d.filter(r=>r.bookingStatus==="confirmed"))||[]}),L=n(()=>{var d;return((d=s==null?void 0:s.bookings)==null?void 0:d.filter(r=>["canceled","refunded"].includes(r.bookingStatus)))||[]}),l=n(()=>A.value.filter(d=>d.paymentReceivedBy==="partner")),p=n(()=>A.value.filter(d=>d.paymentReceivedBy==="metrobnb")),E=n(()=>A.value.reduce((d,r)=>d+r.actualAmountReceived,0)),$=n(()=>L.value.reduce((d,r)=>d+r.actualAmountReceived,0)),I=n(()=>l.value.reduce((d,r)=>d+r.actualAmountReceived,0)),D=n(()=>p.value.reduce((d,r)=>d+r.actualAmountReceived,0)),R=n(()=>{var d;return((d=s==null?void 0:s.expenses)==null?void 0:d.reduce((r,i)=>r+i.amount,0))||0}),C=n(()=>Math.round(E.value*(s.sharePercentage/100))),P=n(()=>C.value+R.value-h.value-D.value),w=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric"}),T=(d,r)=>{const i=w(d);if(!r)return i;const b=w(r);return i===b?i:`${i} - ${b}`},U=n(()=>[...l.value].sort((d,r)=>new Date(d.date)-new Date(r.date))),z=n(()=>[...p.value].sort((d,r)=>new Date(d.date)-new Date(r.date))),G=n(()=>[...(s==null?void 0:s.expenses)||[]].sort((d,r)=>new Date(d.date)-new Date(r.date))),J=n(()=>[...(s==null?void 0:s.journalEntries)||[]].sort((d,r)=>new Date(d.date)-new Date(r.date))),h=n(()=>s!=null&&s.journalEntries?s.journalEntries.reduce((d,r)=>r.type==="credit"?d+r.amount:d-r.amount,0):0),V=n(()=>{const d={};return l.value.forEach(r=>{d[r.source]||(d[r.source]={base:0,addons:0,total:0}),d[r.source].base+=r.baseAmount,d[r.source].addons+=r.addons,d[r.source].total+=r.actualAmountReceived}),d}),q=n(()=>{const d={};return p.value.forEach(r=>{d[r.source]||(d[r.source]={base:0,addons:0,total:0}),d[r.source].base+=r.baseAmount,d[r.source].addons+=r.addons,d[r.source].total+=r.actualAmountReceived}),d}),F=n(()=>l.value.reduce((d,r)=>d+r.baseAmount,0)),H=n(()=>l.value.reduce((d,r)=>d+r.addons,0)),K=n(()=>p.value.reduce((d,r)=>d+r.baseAmount,0)),O=n(()=>p.value.reduce((d,r)=>d+r.addons,0)),W=()=>{window.print()},Y=()=>{var k,a;const d=[...l.value,...p.value],r=[...new Set(d.map(c=>c.unitName))].filter(Boolean),i=s.partnerName.replace(/\s+/g,"_"),b=r.join("-").replace(/\s+/g,"_"),v=s.period.replace(/\s+/g,"_"),B=`${i}-${b}-${v}.pdf`,x=window.open("","_blank");x&&(x.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>${B}</title>
          <style>
            ${((k=document.querySelector("style"))==null?void 0:k.innerHTML)||""}
            body { margin: 0; padding: 20px; font-family: system-ui, -apple-system, sans-serif; }
            .print\\:hidden { display: none !important; }
            @media print { * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; } }
          </style>
        </head>
        <body>
          ${((a=document.querySelector(".max-w-4xl"))==null?void 0:a.outerHTML)||""}
        </body>
      </html>
    `),x.document.close(),x.focus(),setTimeout(()=>{x.print(),x.close()},250))};return(d,r)=>{var v,B,x,k;const i=Z,b=X;return y(),g("div",tt,[t("div",rt,[t("div",et,[t("div",null,[r[2]||(r[2]=t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2 print:text-gray-900"},"MetroBNB Partner Invoice",-1)),t("p",at,[r[0]||(r[0]=S("Partner: ",-1)),t("span",dt,e(o(s).partnerName),1)]),t("p",ot,[r[1]||(r[1]=S("Period: ",-1)),t("span",st,e(o(s).period),1)])]),t("div",nt,[t("p",gt,"Generated: "+e(new Date().toLocaleDateString()),1),t("p",yt,"MetroBNB Share: "+e(o(s).sharePercentage)+"%",1)])])]),t("div",it,[r[12]||(r[12]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4 print:text-gray-900"},"ðŸ“Š Booking Summary",-1)),o(l).length?(y(),g("div",xt,[r[5]||(r[5]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-3 print:text-gray-900"},"ðŸ’° Payments Received by Partner",-1)),t("div",lt,[t("table",pt,[r[4]||(r[4]=t("thead",null,[t("tr",{class:"bg-green-50 dark:bg-green-900 print:bg-green-50"},[t("th",{class:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900 w-32"},"Dates"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Guest"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Unit"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Source"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-right text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Base"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-right text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Add-ons"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-right text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Total")])],-1)),t("tbody",null,[(y(!0),g(m,null,u(o(U),a=>(y(),g("tr",{key:a.date+a.guestName},[t("td",bt,e(T(a.date,a.endDate)),1),t("td",ct,e(a.guestName),1),t("td",mt,e(a.unitName),1),t("td",ut,e(a.source),1),t("td",ht,"â‚±"+e(a.baseAmount.toLocaleString()),1),t("td",kt,"â‚±"+e(a.addons.toLocaleString()),1),t("td",_t,"â‚±"+e(a.total.toLocaleString()),1)]))),128))]),t("tfoot",ft,[(y(!0),g(m,null,u(o(V),(a,c)=>(y(),g("tr",{key:c},[t("td",wt,e(c)+" Base:",1),t("td",vt,"â‚±"+e(a.base.toLocaleString()),1),t("td",Bt,"â‚±"+e(a.addons.toLocaleString()),1),t("td",St,"â‚±"+e(a.total.toLocaleString()),1)]))),128)),t("tr",null,[r[3]||(r[3]=t("td",{colspan:"4",class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Partner Total:",-1)),t("td",Nt,"â‚±"+e(o(F).toLocaleString()),1),t("td",At,"â‚±"+e(o(H).toLocaleString()),1),t("td",Lt,"â‚±"+e(o(I).toLocaleString()),1)])])])])])):_("",!0),o(p).length?(y(),g("div",Dt,[r[8]||(r[8]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-3 print:text-gray-900"},"ðŸ¦ Payments Received by MetroBNB (To be deducted)",-1)),t("div",Rt,[t("table",Pt,[r[7]||(r[7]=t("thead",null,[t("tr",{class:"bg-blue-50 dark:bg-blue-900 print:bg-blue-50"},[t("th",{class:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900 w-32"},"Dates"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Guest"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Unit"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Source"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-right text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Base"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-right text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Add-ons"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-right text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Total")])],-1)),t("tbody",null,[(y(!0),g(m,null,u(o(z),a=>(y(),g("tr",{key:a.date+a.guestName},[t("td",Tt,e(T(a.date,a.endDate)),1),t("td",Et,e(a.guestName),1),t("td",Ct,e(a.unitName),1),t("td",Mt,e(a.source),1),t("td",jt,"â‚±"+e(a.baseAmount.toLocaleString()),1),t("td",$t,"â‚±"+e(a.addons.toLocaleString()),1),t("td",It,"â‚±"+e(a.total.toLocaleString()),1)]))),128))]),t("tfoot",Ut,[(y(!0),g(m,null,u(o(q),(a,c)=>(y(),g("tr",{key:c},[t("td",zt,e(c)+" Base:",1),t("td",Gt,"â‚±"+e(a.base.toLocaleString()),1),t("td",Jt,"â‚±"+e(a.addons.toLocaleString()),1),t("td",Vt,"â‚±"+e(a.total.toLocaleString()),1)]))),128)),t("tr",null,[r[6]||(r[6]=t("td",{colspan:"4",class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"MetroBNB Total:",-1)),t("td",qt,"â‚±"+e(o(K).toLocaleString()),1),t("td",Ft,"â‚±"+e(o(O).toLocaleString()),1),t("td",Ht,"â‚±"+e(o(D).toLocaleString()),1)])])])])])):_("",!0),o(L).length?(y(),g("div",Kt,[r[11]||(r[11]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-3 print:text-gray-900"},"âŒ Canceled/Refunded Bookings (Not included in calculations)",-1)),t("div",Ot,[t("table",Wt,[r[10]||(r[10]=t("thead",null,[t("tr",{class:"bg-red-50 dark:bg-red-900 print:bg-red-50"},[t("th",{class:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900 w-32"},"Dates"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Guest"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Unit"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Status"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-right text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Amount")])],-1)),t("tbody",null,[(y(!0),g(m,null,u(o(L),a=>(y(),g("tr",{key:a.date+a.guestName},[t("td",Yt,e(T(a.date,a.endDate)),1),t("td",Qt,e(a.guestName),1),t("td",Xt,e(a.unitName),1),t("td",Zt,[t("span",{class:f(["inline-flex px-2 py-1 text-xs font-medium rounded-full",a.bookingStatus==="canceled"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"])},e(a.bookingStatus==="canceled"?"Canceled":"Refunded"),3)]),t("td",tr,"â‚±"+e(a.actualAmountReceived.toLocaleString()),1)]))),128))]),t("tfoot",rr,[t("tr",null,[r[9]||(r[9]=t("td",{colspan:"4",class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Total Refunds:",-1)),t("td",er,"â‚±"+e(o($).toLocaleString()),1)])])])])])):_("",!0)]),o(s).journalEntries&&o(s).journalEntries.length?(y(),g("div",ar,[r[15]||(r[15]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4 print:text-gray-900"},"âš–ï¸ Adjustments",-1)),t("div",dr,[t("table",or,[r[14]||(r[14]=t("thead",null,[t("tr",{class:"bg-yellow-50 dark:bg-yellow-900 print:bg-yellow-50"},[t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Date"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Type"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Description"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Reference"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-right text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Amount")])],-1)),t("tbody",null,[(y(!0),g(m,null,u(o(J),a=>(y(),g("tr",{key:a.date+a.description},[t("td",sr,e(w(a.date)),1),t("td",nr,[t("span",{class:f(["inline-flex px-2 py-1 text-xs font-medium rounded-full",a.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},e(a.type==="credit"?"Credit":"Debit"),3)]),t("td",gr,e(a.description),1),t("td",yr,e(a.reference||"-"),1),t("td",{class:f(["border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-right font-medium print:border-gray-300",a.type==="credit"?"text-green-600 dark:text-green-400 print:text-green-600":"text-red-600 dark:text-red-400 print:text-red-600"])},e(a.type==="credit"?"+":"-")+"â‚±"+e(a.amount.toLocaleString()),3)]))),128))]),t("tfoot",ir,[t("tr",null,[r[13]||(r[13]=t("td",{colspan:"4",class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-medium text-right text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Net Adjustments:",-1)),t("td",{class:f(["border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-bold text-right print:border-gray-300",o(h)>=0?"text-green-600 dark:text-green-400 print:text-green-600":"text-red-600 dark:text-red-400 print:text-red-600"])},e(o(h)>=0?"+":"")+"â‚±"+e(o(h).toLocaleString()),3)])])])])])):_("",!0),t("div",xr,[r[18]||(r[18]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4 print:text-gray-900"},"ðŸ’¸ Expense Breakdown",-1)),t("div",lr,[t("table",pr,[r[17]||(r[17]=t("thead",null,[t("tr",{class:"bg-gray-50 dark:bg-gray-800 print:bg-gray-50"},[t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Date"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Unit"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Type"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Notes"),t("th",{class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-right text-sm font-medium text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Amount")])],-1)),t("tbody",null,[(y(!0),g(m,null,u(o(G),a=>(y(),g("tr",{key:a.date+a.type},[t("td",br,e(w(a.date)),1),t("td",cr,e(a.unitName),1),t("td",mr,e(a.type),1),t("td",ur,e(a.notes||"-"),1),t("td",hr,"â‚±"+e(a.amount.toLocaleString()),1)]))),128))]),t("tfoot",kr,[t("tr",null,[r[16]||(r[16]=t("td",{colspan:"4",class:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-medium text-right text-gray-900 dark:text-white print:border-gray-300 print:text-gray-900"},"Total MetroBNB Expenses:",-1)),t("td",_r,"â‚±"+e(o(R).toLocaleString()),1)])])])])]),t("div",fr,[r[23]||(r[23]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4 print:text-gray-900"},"ðŸ§® Computation Summary",-1)),t("table",wr,[t("tbody",null,[t("tr",vr,[r[19]||(r[19]=t("td",{class:"py-2 text-sm font-medium text-gray-900 dark:text-gray-100 print:text-gray-900"},"Total Income",-1)),t("td",Br,"â‚±"+e(o(E).toLocaleString()),1)]),t("tr",Sr,[t("td",Nr,"MetroBNB Share ("+e(o(s).sharePercentage)+"%)",1),t("td",Ar,"+â‚±"+e(o(C).toLocaleString()),1)]),t("tr",Lr,[r[20]||(r[20]=t("td",{class:"py-2 text-sm font-medium text-gray-900 dark:text-gray-100 print:text-gray-900"},"MetroBNB Expenses",-1)),t("td",Dr,"+â‚±"+e(o(R).toLocaleString()),1)]),o(s).journalEntries&&o(s).journalEntries.length?(y(),g("tr",Rr,[r[21]||(r[21]=t("td",{class:"py-2 text-sm font-medium text-gray-900 dark:text-gray-100 print:text-gray-900"},"Less: Adjustments (Net)",-1)),t("td",Pr,e(o(h)>=0?"-":"+")+"â‚±"+e(Math.abs(o(h)).toLocaleString()),1)])):_("",!0),t("tr",Tr,[r[22]||(r[22]=t("td",{class:"py-2 text-sm font-medium text-gray-900 dark:text-gray-100 print:text-gray-900"},"Less: Payments Received by MetroBNB",-1)),t("td",Er,"-â‚±"+e(o(D).toLocaleString()),1)]),t("tr",Cr,[t("td",Mr,e(o(P)>=0?"Amount Due to MetroBNB":"Amount Due to Partner"),1),t("td",{class:f(["py-3 text-lg font-bold text-right print:text-gray-900",o(P)>=0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"])}," â‚±"+e(Math.abs(o(P)).toLocaleString()),3)])])])]),t("div",jr,[t("div",$r,[t("p",Ir,e((((v=o(l))==null?void 0:v.length)||0)+(((B=o(p))==null?void 0:B.length)||0))+" bookings, "+e(((k=(x=o(s))==null?void 0:x.expenses)==null?void 0:k.length)||0)+" expenses ",1),t("div",Ur,[N(b,{onClick:W,color:"primary",size:"lg"},{default:M(()=>[N(i,{name:"i-heroicons-printer",class:"mr-2"}),r[24]||(r[24]=S(" Print Invoice ",-1))]),_:1,__:[24]}),N(b,{onClick:Y,color:"green",size:"lg"},{default:M(()=>[N(i,{name:"i-heroicons-arrow-down-tray",class:"mr-2"}),r[25]||(r[25]=S(" Download PDF ",-1))]),_:1,__:[25]})])])])])}}});export{Jr as _};
