import{_ as W}from"./DDOLqT6N.js";import{B as X,C as D,_ as Y,h as Z,c as u,o as r,D as y,s as h,a as g,U as be,v as l,t as $,a0 as he,E as S,F as I,q as M,d as _,H as ee,I as x,n as d,K as z,b as q,y as N,G as K,g as te,k as ae,a1 as J,a2 as F,a3 as U,a4 as ke}from"./DNOTuklV.js";import{a as T}from"./CAAWyulb.js";const Se={wrapper:"relative overflow-x-auto",base:"min-w-full table-fixed",divide:"divide-y divide-gray-300 dark:divide-gray-700",thead:"relative",tbody:"divide-y divide-gray-200 dark:divide-gray-800",caption:"sr-only",tr:{base:"",selected:"bg-gray-50 dark:bg-gray-800/50",expanded:"bg-gray-50 dark:bg-gray-800/50",active:"hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},checkbox:{padding:"ps-4"},loadingState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4 animate-spin"},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},expand:{icon:"transform transition-transform duration-200"},progress:{wrapper:"absolute inset-x-0 -bottom-[0.5px] p-0"},default:{sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"},expandButton:{icon:"i-heroicons-chevron-down",color:"gray",variant:"ghost",size:"xs",class:"-my-1.5 align-middle"},checkbox:{color:"primary"},progress:{color:"primary",animation:"carousel"},loadingState:{icon:"i-heroicons-arrow-path-20-solid",label:"Loading..."},emptyState:{icon:"i-heroicons-circle-stack-20-solid",label:"No items."}}},we={wrapper:"w-full flex flex-col gap-2",indicator:{container:{base:"flex flex-row justify-end",width:"min-w-fit",transition:"transition-all"},align:"text-end",width:"w-fit",color:"text-gray-400 dark:text-gray-500",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},progress:{base:"block appearance-none border-none overflow-hidden",width:"w-full [&::-webkit-progress-bar]:w-full",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"},rounded:"rounded-full [&::-webkit-progress-bar]:rounded-full",track:"[&::-webkit-progress-bar]:bg-gray-200 [&::-webkit-progress-bar]:dark:bg-gray-700 [@supports(selector(&::-moz-progress-bar))]:bg-gray-200 [@supports(selector(&::-moz-progress-bar))]:dark:bg-gray-700",bar:"[&::-webkit-progress-value]:rounded-full [&::-webkit-progress-value]:transition-all [&::-webkit-progress-value]:ease-in-out [&::-moz-progress-bar]:rounded-full",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-progress-value]:bg-current [&::-moz-progress-bar]:bg-current",indeterminate:{base:"indeterminate:relative",rounded:"indeterminate:after:rounded-full [&:indeterminate::-webkit-progress-value]:rounded-full [&:indeterminate::-moz-progress-bar]:rounded-full"}},steps:{base:"grid grid-cols-1",color:"text-{color}-500 dark:text-{color}-400",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},step:{base:"transition-all opacity-0 truncate row-start-1 col-start-1",align:"text-end",active:"opacity-100",first:"text-gray-500 dark:text-gray-400"},animation:{carousel:"bar-animation-carousel","carousel-inverse":"bar-animation-carousel-inverse",swing:"bar-animation-swing",elastic:"bar-animation-elastic"},default:{color:"primary",size:"md",animation:"carousel"}},O=X(D.ui.strategy,D.ui.progress,we),Ce=Z({inheritAttrs:!1,props:{value:{type:Number,default:null},max:{type:[Number,Array],default:100},indicator:{type:Boolean,default:!1},animation:{type:String,default:()=>O.default.animation,validator(e){return Object.keys(O.animation).includes(e)}},size:{type:String,default:()=>O.default.size,validator(e){return Object.keys(O.progress.size).includes(e)}},color:{type:String,default:()=>O.default.color,validator(e){return D.ui.colors.includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:s,attrs:v}=ee("progress",x(e,"ui"),O,x(e,"class")),A=d(()=>z(s.value.indicator.container.base,s.value.indicator.container.width,s.value.indicator.container.transition)),R=d(()=>z(s.value.indicator.align,s.value.indicator.width,s.value.indicator.color,s.value.indicator.size[e.size])),B=d(()=>{var k;const c=[s.value.progress.base,s.value.progress.width,s.value.progress.size[e.size],s.value.progress.rounded,s.value.progress.track,s.value.progress.bar,(k=s.value.progress.color)==null?void 0:k.replaceAll("{color}",e.color),s.value.progress.background,s.value.progress.indeterminate.base,s.value.progress.indeterminate.rounded];return w.value&&c.push(s.value.animation[e.animation]),z(...c)}),o=d(()=>{var c;return z(s.value.steps.base,(c=s.value.steps.color)==null?void 0:c.replaceAll("{color}",e.color),s.value.steps.size[e.size])}),f=d(()=>z(s.value.step.base,s.value.step.align)),E=d(()=>z(s.value.step.active)),j=d(()=>z(s.value.step.first));function t(c){return c===Number(e.value)}function b(c){return c===0}function i(c){c=Number(c);const k=[f.value];return b(c)&&k.push(j.value),t(c)&&k.push(E.value),k.join(" ")}const w=d(()=>e.value===void 0||e.value===null),V=d(()=>Array.isArray(e.max)),m=d(()=>w.value?null:Array.isArray(e.max)?e.max.length-1:Number(e.max)),P=d(()=>{if(!w.value)switch(!0){case e.value<0:return 0;case e.value>m.value:return 100;default:return e.value/m.value*100}});return{ui:s,attrs:v,indicatorContainerClass:A,indicatorClass:R,progressClass:B,stepsClass:o,stepClasses:i,isIndeterminate:w,isSteps:V,realMax:m,percent:P}}}),$e=["aria-valuemax","aria-valuenow"];function Ae(e,s,v,A,R,B){return r(),u("div",{class:l(e.ui.wrapper),role:"progressbar"},[e.indicator||e.$slots.indicator?y(e.$slots,"indicator",he(S({key:0},{percent:e.percent})),()=>[e.isSteps?h("",!0):(r(),u("div",{key:0,class:l(e.indicatorContainerClass),style:be({width:`${e.percent}%`})},[g("div",{class:l(e.indicatorClass)},$(Math.round(e.percent))+"% ",3)],6))],!0):h("",!0),g("progress",S({"aria-valuemax":e.realMax,"aria-valuenow":e.value,class:e.progressClass},{value:e.value,max:e.realMax,...e.attrs}),$(e.percent!==void 0?`${Math.round(e.percent)}%`:void 0),17,$e),e.isSteps?(r(),u("div",{key:1,class:l(e.stepsClass)},[(r(!0),u(I,null,M(e.max,(o,f)=>(r(),u("div",{key:f,class:l(e.stepClasses(f))},[y(e.$slots,`step-${f}`,S({ref_for:!0},{step:o}),()=>[_($(o),1)],!0)],2))),128))],2)):h("",!0)],2)}const se=Y(Ce,[["render",Ae],["__scopeId","data-v-e0a22531"]]);function ze(e){return e?e[0].toUpperCase()+e.slice(1):""}const C=X(D.ui.strategy,D.ui.table,Se);function Be(e,s){return ke(e,s)}function L(e,s,v){return e===s?0:v==="asc"?e<s?-1:1:e>s?-1:1}function Q(e){return new Set(e.map(s=>JSON.stringify(s)))}function je(e){return s=>F(s,e)}const Ve=Z({components:{UIcon:ae,UButton:te,UProgress:se,UCheckbox:W},inheritAttrs:!1,props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>Be},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortMode:{type:String,default:"auto"},sortButton:{type:Object,default:()=>C.default.sortButton},sortAscIcon:{type:String,default:()=>C.default.sortAscIcon},sortDescIcon:{type:String,default:()=>C.default.sortDescIcon},expandButton:{type:Object,default:()=>C.default.expandButton},expand:{type:Object,default:()=>null},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>C.default.loadingState},emptyState:{type:Object,default:()=>C.default.emptyState},caption:{type:String,default:null},progress:{type:Object,default:()=>C.default.progress},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},multipleExpand:{type:Boolean,default:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue","update:sort","update:expand","select:all"],setup(e,{emit:s,attrs:v}){const{ui:A,attrs:R}=ee("table",x(e,"ui"),C,x(e,"class")),B=d(()=>{const a=e.columns??Object.keys(e.rows[0]).map(p=>({key:p,label:ze(p),sortable:!1,class:void 0,sort:L}));return a.find(p=>p.key==="select")||!e.modelValue?a:[{key:"select",sortable:!1,class:void 0,sort:L},...a]}),o=T(e,"sort",s,{passive:!0,defaultValue:J({},e.sort,{column:null,direction:"asc"})}),f=T(e,"expand",s,{passive:!0,defaultValue:J({},e.expand,{openedRows:[],row:null})}),E={column:o.value.column,direction:null},j=d(()=>{var p;if(!((p=o.value)!=null&&p.column)||e.sortMode==="manual")return e.rows;const{column:a,direction:n}=o.value;return e.rows.slice().sort((ge,fe)=>{var H;const me=F(ge,a),ye=F(fe,a);return(((H=B.value.find(ve=>ve.key===a))==null?void 0:H.sort)??L)(me,ye,n)})}),t=d({get(){return e.modelValue},set(a){s("update:modelValue",a)}}),b=d(()=>e.rows.length),i=d(()=>{const a=Q(t.value),n=Q(e.rows);return Array.from(a).filter(p=>n.has(p)).length}),w=d(()=>!t.value||!e.rows?!1:i.value>0&&i.value<b.value),V=d(()=>i.value===b.value),m=d(()=>e.emptyState===null?null:{...A.value.default.emptyState,...e.emptyState}),P=d(()=>e.loadingState===null?null:{...A.value.default.loadingState,...e.loadingState});function c(a,n){if(typeof e.by=="string"){const p=je(e.by);return p(a)===p(n)}return e.by(a,n)}function k(a){return e.modelValue?t.value.some(n=>c(U(n),U(a))):!1}function ne(a){if(o.value.column===a.key){const n=!a.direction||a.direction==="asc"?"desc":"asc";o.value.direction===n?o.value=J({},E,{column:null,direction:"asc"}):o.value={column:o.value.column,direction:o.value.direction==="asc"?"desc":"asc"}}else o.value={column:a.key,direction:a.direction||"asc"}}function re(a){const n=window.getSelection();n&&n.toString().length>0||v.onSelect&&v.onSelect(a)}function oe(a,n){v.onContextmenu&&v.onContextmenu(a,n)}function le(){const a=[...t.value];e.rows.forEach(n=>{k(n)||a.push(n)}),t.value=a}function ie(a){a?le():t.value=[],s("select:all",a)}function ue(a,n){a?t.value=e.singleSelect?[n]:[...t.value,n]:t.value=t.value.filter(p=>!c(U(p),U(n)))}function de(a,n,p=""){return F(a,n,p)}function G(a){var n;return(n=f.value)!=null&&n.openedRows?f.value.openedRows.some(p=>c(p,a)):!1}function ce(a){f.value={openedRows:G(a)?f.value.openedRows.filter(n=>!c(n,a)):e.multipleExpand?[...f.value.openedRows,a]:[a],row:a}}function pe(a){if(a.sortable){if(o.value.column!==a.key)return"none";if(o.value.direction==="asc")return"ascending";if(o.value.direction==="desc")return"descending"}}return{ui:A,attrs:R,sort:o,columns:B,rows:j,selected:t,indeterminate:w,emptyState:m,loadingState:P,isAllRowChecked:V,onChangeCheckbox:ue,isSelected:k,onSort:ne,onSelect:re,onContextmenu:oe,onChange:ie,getRowData:de,toggleOpened:ce,getAriaSort:pe,isExpanded:G}}}),Oe=["aria-sort"],Re={key:1},Ee={key:0},Ie={key:0},De=["colspan"],Ne={key:1},Ue=["colspan"],Me=["onClick","onContextmenu"],Fe={key:0},xe={colspan:"100%"};function Pe(e,s,v,A,R,B){const o=W,f=te,E=se,j=ae;return r(),u("div",S({class:e.ui.wrapper},e.attrs),[g("table",{class:l([e.ui.base,e.ui.divide])},[e.$slots.caption||e.caption?y(e.$slots,"caption",{key:0},()=>[g("caption",{class:l(e.ui.caption)},$(e.caption),3)]):h("",!0),g("thead",{class:l(e.ui.thead)},[g("tr",{class:l(e.ui.tr.base)},[e.expand?(r(),u("th",{key:0,scope:"col",class:l(e.ui.tr.base)},s[0]||(s[0]=[g("span",{class:"sr-only"},"Expand",-1)]),2)):h("",!0),(r(!0),u(I,null,M(e.columns,(t,b)=>(r(),u("th",{key:b,scope:"col",class:l([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,t.key==="select"&&e.ui.checkbox.padding,t.class]),"aria-sort":e.getAriaSort(t)},[!e.singleSelect&&e.modelValue&&t.key==="select"?y(e.$slots,"select-header",{key:0,indeterminate:e.indeterminate,checked:e.isAllRowChecked,change:e.onChange},()=>[q(o,S({"model-value":e.isAllRowChecked,indeterminate:e.indeterminate},{ref_for:!0},e.ui.default.checkbox,{"aria-label":"Select all",onChange:e.onChange}),null,16,["model-value","indeterminate","onChange"])]):y(e.$slots,`${t.key}-header`,{key:1,column:t,sort:e.sort,onSort:e.onSort},()=>[t.sortable?(r(),N(f,S({key:0,ref_for:!0},{...e.ui.default.sortButton||{},...e.sortButton},{icon:!e.sort.column||e.sort.column!==t.key?e.sortButton.icon||e.ui.default.sortButton.icon:e.sort.direction==="asc"?e.sortAscIcon:e.sortDescIcon,label:t[e.columnAttribute],onClick:i=>e.onSort(t)}),null,16,["icon","label","onClick"])):(r(),u("span",Re,$(t[e.columnAttribute]),1))])],10,Oe))),128))],2),e.loading&&e.progress?(r(),u("tr",Ee,[g("td",{colspan:0,class:l(e.ui.progress.wrapper)},[q(E,S({...e.ui.default.progress||{},...e.progress},{size:"2xs"}),null,16)],2)])):h("",!0)],2),g("tbody",{class:l(e.ui.tbody)},[e.loadingState&&e.loading&&!e.rows.length?(r(),u("tr",Ie,[g("td",{colspan:e.columns.length+(e.modelValue?1:0)+(e.expand?1:0)},[y(e.$slots,"loading-state",{},()=>[g("div",{class:l(e.ui.loadingState.wrapper)},[e.loadingState.icon?(r(),N(j,{key:0,name:e.loadingState.icon,class:l(e.ui.loadingState.icon),"aria-hidden":"true"},null,8,["name","class"])):h("",!0),g("p",{class:l(e.ui.loadingState.label)},$(e.loadingState.label),3)],2)])],8,De)])):e.emptyState&&!e.rows.length?(r(),u("tr",Ne,[g("td",{colspan:e.columns.length+(e.modelValue?1:0)+(e.expand?1:0)},[y(e.$slots,"empty-state",{},()=>[g("div",{class:l(e.ui.emptyState.wrapper)},[e.emptyState.icon?(r(),N(j,{key:0,name:e.emptyState.icon,class:l(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):h("",!0),g("p",{class:l(e.ui.emptyState.label)},$(e.emptyState.label),3)],2)])],8,Ue)])):(r(!0),u(I,{key:2},M(e.rows,(t,b)=>(r(),u(I,{key:b},[g("tr",{class:l([e.ui.tr.base,e.isSelected(t)&&e.ui.tr.selected,e.isExpanded(t)&&e.ui.tr.expanded,e.$attrs.onSelect&&e.ui.tr.active,t==null?void 0:t.class]),onClick:()=>e.onSelect(t),onContextmenu:i=>e.onContextmenu(i,t)},[e.expand?(r(),u("td",{key:0,class:l([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size])},[e.$slots["expand-action"]?y(e.$slots,"expand-action",{key:0,row:t,isExpanded:e.isExpanded(t),toggle:()=>e.toggleOpened(t)}):(r(),N(f,S({key:1,disabled:t.disabledExpand},{ref_for:!0},{...e.ui.default.expandButton||{},...e.expandButton},{ui:{icon:{base:[e.ui.expand.icon,e.isExpanded(t)&&"rotate-180"].join(" ")}},onClickCapture:K(i=>e.toggleOpened(t),["stop"])}),null,16,["disabled","ui","onClickCapture"]))],2)):h("",!0),(r(!0),u(I,null,M(e.columns,(i,w)=>{var V;return r(),u("td",{key:w,class:l([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size,i==null?void 0:i.rowClass,(V=t[i.key])==null?void 0:V.class,i.key==="select"&&e.ui.checkbox.padding])},[e.modelValue&&i.key==="select"?(r(),u("span",{key:0,onClickCapture:K(()=>{},["stop"])},[y(e.$slots,"select-data",{checked:e.isSelected(t),change:m=>e.onChangeCheckbox(m,t)},()=>[q(o,S({"model-value":e.isSelected(t)},{ref_for:!0},e.ui.default.checkbox,{"aria-label":"Select row",onChange:m=>e.onChangeCheckbox(m,t)}),null,16,["model-value","onChange"])])],32)):y(e.$slots,`${i.key}-data`,{key:1,column:i,row:t,index:b,getRowData:m=>e.getRowData(t,i.key,m)},()=>[_($(e.getRowData(t,i.key)),1)])],2)}),128))],42,Me),e.isExpanded(t)?(r(),u("tr",Fe,[g("td",xe,[y(e.$slots,"expand",{row:t,index:b})])])):h("",!0)],64))),128))],2)],2)],16)}const He=Y(Ve,[["render",Pe]]);export{He as _};
