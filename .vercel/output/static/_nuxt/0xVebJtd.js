import{_ as P,a as S}from"./8hJOxu5z.js";import{_ as T}from"./WinUwd0k.js";import{h as C,L as N,m as $,n as F,i as h,c as j,a as s,y as U,d as i,t as E,j as o,w as n,f as I,o as c,b as e,g as q,A as L}from"./DNOTuklV.js";import{_ as z}from"./BkXjYmYK.js";import{u as D,a as G}from"./S143Cjw2.js";import{u as g}from"./DH4W2Tv0.js";import{o as M,s as f}from"./NeIn7EVK.js";import"./SYmKFyMt.js";import"./CAAWyulb.js";const R={class:"max-w-2xl mx-auto"},H={class:"mb-6"},J={class:"text-gray-600 dark:text-gray-400"},K={class:"font-medium"},O={class:"space-y-4"},Q={class:"flex justify-end space-x-3 mt-6"},W={class:"text-center py-8"},dt=C({__name:"add-unit",setup(X){const l=N().params.id,{getPartnerByIdSync:v,loadFromStorage:V}=D(),{addUnit:b}=G(),k=M({name:f().min(1,"Unit name is required"),location:f().optional(),notes:f().optional()}),a=$({name:"",location:"",notes:""}),m=F(()=>v(l)),w=async()=>{try{await b({name:a.name,location:a.location||void 0,notes:a.notes||void 0,partnerId:l}),g().add({title:"Unit added",description:`${a.name} has been added successfully`,color:"green"}),await L(`/partners/${l}`)}catch{g().add({title:"Error",description:"Failed to add unit",color:"red"})}};return h(()=>{V()}),(u,t)=>{var y;const p=S,d=P,B=T,_=q,A=z,x=I;return c(),j("div",R,[s("div",H,[t[5]||(t[5]=s("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Add Unit",-1)),s("p",J,[t[4]||(t[4]=i(" Add a new unit for ",-1)),s("span",K,E((y=o(m))==null?void 0:y.name),1)])]),o(m)?(c(),U(x,{key:0},{default:n(()=>[e(A,{schema:o(k),state:o(a),onSubmit:w},{default:n(()=>[s("div",O,[e(d,{label:"Partner",name:"partner"},{default:n(()=>[e(p,{"model-value":o(m).name,disabled:""},null,8,["model-value"])]),_:1}),e(d,{label:"Unit Name",name:"name",required:""},{default:n(()=>[e(p,{modelValue:o(a).name,"onUpdate:modelValue":t[0]||(t[0]=r=>o(a).name=r),placeholder:"e.g., Casa Aurea â€“ Azure Bahamas 945"},null,8,["modelValue"])]),_:1}),e(d,{label:"Location",name:"location"},{default:n(()=>[e(p,{modelValue:o(a).location,"onUpdate:modelValue":t[1]||(t[1]=r=>o(a).location=r),placeholder:"Enter location (optional)"},null,8,["modelValue"])]),_:1}),e(d,{label:"Notes",name:"notes"},{default:n(()=>[e(B,{modelValue:o(a).notes,"onUpdate:modelValue":t[2]||(t[2]=r=>o(a).notes=r),placeholder:"Additional notes (optional)"},null,8,["modelValue"])]),_:1})]),s("div",Q,[e(_,{color:"gray",variant:"ghost",onClick:t[3]||(t[3]=r=>u.$router.push(`/partners/${o(l)}`))},{default:n(()=>t[6]||(t[6]=[i(" Skip & View Profile ",-1)])),_:1,__:[6]}),e(_,{type:"submit",color:"primary"},{default:n(()=>t[7]||(t[7]=[i("Add Unit",-1)])),_:1,__:[7]})])]),_:1},8,["schema","state"])]),_:1})):(c(),U(x,{key:1},{default:n(()=>[s("div",W,[t[9]||(t[9]=s("p",{class:"text-gray-500 dark:text-gray-400"},"Partner not found",-1)),e(_,{to:"/partners",class:"mt-4"},{default:n(()=>t[8]||(t[8]=[i("Back to Partners",-1)])),_:1,__:[8]})])]),_:1}))])}}});export{dt as default};
