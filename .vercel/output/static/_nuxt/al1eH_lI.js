import{_ as N,a as A}from"./8hJOxu5z.js";import{_ as B}from"./WinUwd0k.js";import{h as D,r as _,i as T,c,b as t,w as o,p as j,f as z,o as u,j as r,g as H,d as v,a as i,s as I,F as $,q,t as x}from"./DNOTuklV.js";import{_ as G}from"./BkXjYmYK.js";import{u as L}from"./DH4W2Tv0.js";import"./SYmKFyMt.js";import"./CAAWyulb.js";const M={class:"space-y-6"},J={class:"space-y-3"},K={class:"font-medium"},O={class:"text-sm text-gray-600 dark:text-gray-400"},P={class:"flex space-x-2"},Q={key:0,class:"text-center py-8 text-gray-500"},ne=D({__name:"services",setup(R){const{getServices:S,createService:g,updateService:W,deleteService:b}=j(),d=L(),l=_([]),m=_(!1),s=_({name:"",description:""}),h=async()=>{try{l.value=await S()}catch{d.add({title:"Error",description:"Failed to load services",color:"red"})}},V=async()=>{if(s.value.name.trim()){m.value=!0;try{const n=await g({name:s.value.name,description:s.value.description});l.value.push(n),s.value={name:"",description:""},d.add({title:"Success",description:"Service added successfully"})}catch{d.add({title:"Error",description:"Failed to add service",color:"red"})}finally{m.value=!1}}},k=n=>{console.log("Edit service:",n)},C=async n=>{try{await b(n),l.value=l.value.filter(e=>e.id!==n),d.add({title:"Success",description:"Service deleted successfully"})}catch{d.add({title:"Error",description:"Failed to delete service",color:"red"})}};return T(()=>{h()}),(n,e)=>{const U=A,f=N,w=B,p=H,F=G,y=z;return u(),c("div",M,[t(y,null,{header:o(()=>e[2]||(e[2]=[i("h3",{class:"text-lg font-semibold"},"Add Service",-1)])),default:o(()=>[t(F,{state:r(s),onSubmit:V,class:"space-y-4"},{default:o(()=>[t(f,{label:"Service Name",name:"name"},{default:o(()=>[t(U,{modelValue:r(s).name,"onUpdate:modelValue":e[0]||(e[0]=a=>r(s).name=a),placeholder:"e.g., All In Host Hero"},null,8,["modelValue"])]),_:1}),t(f,{label:"Description",name:"description"},{default:o(()=>[t(w,{modelValue:r(s).description,"onUpdate:modelValue":e[1]||(e[1]=a=>r(s).description=a),placeholder:"Service description"},null,8,["modelValue"])]),_:1}),t(p,{type:"submit",loading:r(m)},{default:o(()=>e[3]||(e[3]=[v("Add Service",-1)])),_:1,__:[3]},8,["loading"])]),_:1},8,["state"])]),_:1}),t(y,null,{header:o(()=>e[4]||(e[4]=[i("h3",{class:"text-lg font-semibold"},"Services",-1)])),default:o(()=>[i("div",J,[(u(!0),c($,null,q(r(l),a=>(u(),c("div",{key:a.id,class:"flex justify-between items-center p-4 border rounded-lg"},[i("div",null,[i("h4",K,x(a.name),1),i("p",O,x(a.description),1)]),i("div",P,[t(p,{variant:"ghost",size:"sm",onClick:E=>k(a)},{default:o(()=>e[5]||(e[5]=[v("Edit",-1)])),_:2,__:[5]},1032,["onClick"]),t(p,{variant:"ghost",size:"sm",color:"red",onClick:E=>C(a.id)},{default:o(()=>e[6]||(e[6]=[v("Delete",-1)])),_:2,__:[6]},1032,["onClick"])])]))),128)),r(l).length?I("",!0):(u(),c("div",Q," No services yet. Add your first service above. "))])]),_:1})])}}});export{ne as default};
